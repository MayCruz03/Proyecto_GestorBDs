CREATE SCHEMA _SYS
GO

CREATE TABLE _SYS.TBL_DATA_TYPES(
	DTYPE_ID INT PRIMARY KEY IDENTITY(1001,1),
	DTYPE_NAME VARCHAR(255) NOT NULL,
)

-- DROP TABLE _SYS.TBL_OBJECTS_TYPES
CREATE TABLE _SYS.TBL_OBJECTS_TYPES (
	[OBJ_TYPE_ID] INT PRIMARY KEY IDENTITY(1001,1),
	[OBJ_TYPE_NAME] VARCHAR(255) NOT NULL,
	[OBJ_TYPE_NAME_ES] VARCHAR(255) NOT NULL,
	[OBJ_TYPE_PARENT] INT NULL,
	[OBJ_TYPE_ICON] VARCHAR(255) NULL,
)

INSERT INTO _SYS.TBL_OBJECTS_TYPES
	([OBJ_TYPE_NAME],[OBJ_TYPE_NAME_ES],[OBJ_TYPE_PARENT],[OBJ_TYPE_ICON])
VALUES 
	('Server','Servidor', NULL, 'server icon'),
	('Database','Base de Datos', 10001, 'database icon'),
	('Schema','Esquema', 10001, 'sitemap icon'),
	('Table','tabla', 10001, 'table icon'),
	('Store Procedure','Procedimiento Almacenado', 10001, 'unsplash icon'),
	('Function','Funcion', 10001, 'fa-solid fa-code-branch'),
	('View','Vista', 10001, 'fa-regular fa-window-restore'),
	('Query','Consulta', 10001, 'fa-solid fa-file-code'),
	('Table Column', 'Columna de Tabla', 10004, 'fa-solid fa-table-columns'),
	('Store Procedure Parameter', 'Parametro de Procedimiento Almacenado', 10005, 'fa-solid fa-cube')


CREATE TABLE _SYS.TBL_SERVERS_OBJECTS (
	OBJ_ID INT PRIMARY KEY IDENTITY(20001,1),
	OBJ_TYPE_ID INT NOT NULL,
	OBJ_NAME VARCHAR(255) NOT NULL,
	OBJ_SCHEMA_ID INT NULL,
	OBJ_SCHEMA_NAME VARCHAR(255) NULL,
	OBJ_PARENT_OF INT NULL,

	OBJ_DATATYPE_ID INT NULL,
	OBJ_PARAM_1 VARCHAR(255), 
	OBJ_PARAM_2 VARCHAR(255),

	CONSTRAINT FK_TBL_OBJECTS_TYPES_TBL_SERVERS_OBJECTS_OBJ_TYPE_ID FOREIGN KEY (OBJ_TYPE_ID) REFERENCES _SYS.TBL_OBJECTS_TYPES (OBJ_TYPE_ID),
	CONSTRAINT FK_ FOREIGN KEY (OBJ_SCHEMA_ID) REFERENCES _SYS.TBL_OBJECTS_TYPES (OBJ_TYPE_ID)

)

INSERT INTO _SYS.TBL_SERVERS_OBJECTS 
	(OBJ_TYPE_ID, OBJ_NAME, OBJ_SCHEMA_ID, OBJ_SCHEMA_NAME, OBJ_PARENT_OF)
VALUES
	(1001,'SmarterASP.NET MSSQL #1', NULL, NULL, NULL),
	(1001,'SmarterASP.NET MySQL #1', NULL, NULL, NULL)

SELECT * FROM _SYS.TBL_OBJECTS_TYPES
SELECT * FROM _SYS.TBL_SERVERS_OBJECTS


--DROP TABLE _SYS.TBL_OBJECTS_TYPES
--DROP TABLE _SYS.TBL_SERVERS_OBJECTS

